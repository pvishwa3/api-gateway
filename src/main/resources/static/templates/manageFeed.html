<div ng-controller="manageFeedController as ctrl"
	ng-init="showHomeButton = true;wizardType='info'" ng-cloak
	class="content-wrapper">

	<div class="row page-header d-flex justify-content-between">
		<div class="col-sm-8">
			<div id="page-head">
				<h4 class="page-title text-overflow">Manage Feed</h4>
			</div>
		</div>
		<div class="col-sm-4 pull-right">
<!-- 			<button ng-show="showHomeButton" class="btn btn-primary pull-right" title="Configure Feed" ng-click="ctrl.configureFeed();">Configure Feed</button>
			<button ng-show="!showHomeButton" class="btn btn-default pull-right btn-arrow-left" ng-click="ctrl.back()">Back To Feeds</button>
			<button id="editButton" class="btn btn-primary mar-rgt pull-right" ng-click="ctrl.edit(self.tagsId[0])">Edit</button>
			<button id="deleteButton" class="btn btn-danger mar-rgt pull-right" ng-click="ctrl.deleteFeedById(self.tagsId[0].id)">Delete</button> -->
		</div>
	</div>

	<div class="banners">
		<div uib-alert ng-repeat="baner in ctrl.alertMessagaes"
			class="alert alert-{{baner.type}}" close="closeAlert($index)">{{baner.msg}}
		</div>
	</div>

	<div ng-include src="templateUrl"></div>

	<script type="text/ng-template" id="savedFeed.html">


<div class="card">
    <div class="card-body">
<div id = "manageFeedContent" class="{{theme}}" style="height: 500px;"></div>
		<!-- <table class="table" datatable="ng">

					<thead>
                        <tr>
                            <th>Feed Name</th>
                            <th>Provider</th>
                            <th>Urls</th>
                           
                            <th>Action</th>
                        </tr>
					</thead>
					<tbody>
                        <tr ng-repeat="data in ctrl.allScheduledDetails">
                            <td>{{data.name}}</td>
                            <td>{{data.provider}}</td>
                            <td>{{data.url}}</td>
                            
                            <td>
								
							</td>
                        </tr>
					</tbody>
                </table> -->
            </div>
        </div>
	</script>

	<script type="text/ng-template" id="configureFeed.html">
		<div class="panel">
	<div class="panel-body" id="panel-body">
		<div class="panel">
			<div class="col-md-12">
				<form class="steps-basic wizard clearfix form-horizontal"
					role="application" id="steps-uid-0">
					<div class="steps clearfix">
						<ul role="tablist" ng-show="wizardType==='info'">
							<li role="tab" class="first current" aria-disabled="false"
								aria-selected="false"><a id="steps-uid-0-t-0"
								href="javascript:void('0')" data-target="#steps-uid-0-h-0"
								aria-controls="steps-uid-0-p-0"><span class="number">1</span>info</a></li>
							<li role="tab" class="disabled" aria-disabled="false"
								aria-selected="disabled"><a id="steps-uid-0-t-2"
								href="javascript:void('0')" data-target="#steps-uid-0-h-2"
								aria-controls="steps-uid-0-p-2"><span class="number">2</span>details</a></li>
							<li role="tab" class="disabled" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-3"
								href="javascript:void('0')" data-target="#steps-uid-0-h-3"
								aria-controls="steps-uid-0-p-3"><span
									class="current-info audible">schedule</span><span
									class="number">3</span> schedule</a></li>
							<li role="tab" class="disabled" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-4"
								href="javascript:void('0')" data-target="#steps-uid-0-h-4"
								aria-controls="steps-uid-0-p-4"><span
									class="current-info audible">Labels</span><span class="number">4</span>
									Labels</a></li>
						</ul>
						<ul role="tablist" ng-show="wizardType==='details'">
							<li role="tab" class="done " aria-disabled="false"
								aria-selected="false"><a id="steps-uid-0-t-0"
								href="javascript:void('0')" data-target="#steps-uid-0-h-0"
								aria-controls="steps-uid-0-p-0"><span class="number">1</span>info</a></li>
							<li role="tab" class="current" aria-disabled="false"
								aria-selected="disabled"><a id="steps-uid-0-t-2"
								href="javascript:void('0')" data-target="#steps-uid-0-h-2"
								aria-controls="steps-uid-0-p-2"><span class="number">2</span>details</a></li>
							<li role="tab" class="disabled" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-3"
								href="javascript:void('0')" data-target="#steps-uid-0-h-3"
								aria-controls="steps-uid-0-p-3"><span
									class="current-info audible">schedule</span><span
									class="number">3</span> schedule</a></li>
							<li role="tab" class="disabled" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-4"
								href="javascript:void('0')" data-target="#steps-uid-0-h-4"
								aria-controls="steps-uid-0-p-4"><span
									class="current-info audible">Labels</span><span class="number">4</span>
									Labels</a></li>
						</ul>
						<ul role="tablist" ng-show="wizardType==='schedule'">
							<li role="tab" class="done " aria-disabled="false"
								aria-selected="false"><a id="steps-uid-0-t-0"
								href="javascript:void('0')" data-target="#steps-uid-0-h-0"
								aria-controls="steps-uid-0-p-0"><span class="number">1</span>info</a></li>
							<li role="tab" class="done" aria-disabled="false"
								aria-selected="disabled"><a id="steps-uid-0-t-2"
								href="javascript:void('0')" data-target="#steps-uid-0-h-2"
								aria-controls="steps-uid-0-p-2"><span class="number">2</span>details</a></li>
							<li role="tab" class="current" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-3"
								href="javascript:void('0')" data-target="#steps-uid-0-h-3"
								aria-controls="steps-uid-0-p-3"><span
									class="current-info audible">schedule </span><span
									class="number">3</span> schedule</a></li>
							<li role="tab" class="disabled" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-4"
								href="javascript:void('0')" data-target="#steps-uid-0-h-4"
								aria-controls="steps-uid-0-p-4"><span
									class="current-info audible">Labels </span><span class="number">4</span>
									Labels</a></li>
						</ul>
						<ul role="tablist" ng-show="wizardType==='labels'">
							<li role="tab" class="done " aria-disabled="false"
								aria-selected="false"><a id="steps-uid-0-t-0"
								href="javascript:void('0')" data-target="#steps-uid-0-h-0"
								aria-controls="steps-uid-0-p-0"><span class="number">1</span>info</a></li>
							<li role="tab" class="done" aria-disabled="false"
								aria-selected="done"><a id="steps-uid-0-t-2"
								href="javascript:void('0')" data-target="#steps-uid-0-h-2"
								aria-controls="steps-uid-0-p-2"><span class="number">2</span>details</a></li>
							<li role="tab" class="done" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-3"
								href="javascript:void('0')" data-target="#steps-uid-0-h-3"
								aria-controls="steps-uid-0-p-3"><span
									class="current-info audible">schedule </span><span
									class="number">3</span> schedule</a></li>
							<li role="tab" class="current" aria-disabled="false"
								aria-selected="true"><a id="steps-uid-0-t-4"
								href="javascript:void('0')" data-target="#steps-uid-0-h-4"
								aria-controls="steps-uid-0-p-4"><span
									class="current-info audible">Labels</span><span class="number">4</span>
									Labels</a></li>
						</ul>
					</div>



					<div class="col-md-12" ng-show="wizardType==='info'">
						
						<div class="form-group">
							<label class="control-label col-md-4">Feed Name</label>
							<div class="col-md-6">
								<input type="text" class="form-control"
									ng-model="ctrl.newFeed.name"
									ng-class="(ctrl.newFeed.name =='' || ctrl.newFeed.name == undefined) && flag == false ? 'border-danger': ''">
								<div class="text-danger text-bold help-block with-errors"
									ng-show="(ctrl.newFeed.name=='' || ctrl.newFeed.name == undefined) && flag == false">Feedname
									is mandatory</div>
							</div>
						</div>

						<div class="form-group">
							<label class="control-label col-md-4">Provider</label>
							<div class="col-md-6">
								<input type="text" class="form-control"
									ng-model="ctrl.newFeed.provider"
									ng-class="(ctrl.newFeed.provider =='' || ctrl.newFeed.provider == undefined) && flag == false ? 'border-danger': ''">
								<div class="text-danger text-bold help-block with-errors"
									ng-show="(ctrl.newFeed.provider=='' || ctrl.newFeed.provider == undefined) && flag == false">Provider
									is mandatory</div>
							</div>
						</div>


					</div>

					<div class="col-md-12" ng-show="wizardType==='details'">

						<div class="col-md-12 form-horizontal">
							<div class="form-group">
								<label class="control-label col-md-4"> URL </label>
								<div class="col-md-6">
									<input type="text" ng-model="ctrl.newFeed.url"
										class="form-control"
										ng-class="(ctrl.newFeed.url =='' || ctrl.newFeed.url == undefined)  && flag == false ? 'border-danger': ''" />
									<div class="text-danger text-bold help-block with-errors"
										ng-show="(ctrl.newFeed.url =='' || ctrl.newFeed.url == undefined) && flag == false">Url
										type is mandatory</div>
								</div>
							</div>
						</div>

						<div class="col-md-12 form-horizontal">
							<div class="form-group">
								<label class="control-label col-md-4"> Header </label>
								<div class="col-md-6">

									<textarea class="form-control" ng-model="ctrl.newFeed.headers"
										rows="5" cols="5"
										palceholder='Line break separated list of headers in the "headername: value" format'></textarea>


								</div>
							</div>
						</div>


					</div>

					<div class="col-md-12" ng-show="wizardType==='schedule'">

						<div class="form-group">
							<label class="control-label col-md-4">Feed Confidence</label>
							<div class="col-md-6">
								<input type="number" ng-model="ctrl.newFeed.confidenceScore"
									class="form-control" />

							</div>
						</div>




						<div class="form-group">
							<label class="control-label col-md-4">Delimiter</label>
							<div class="col-md-6">

								<input type='text' class="form-control"
									ng-model="ctrl.newFeed.delimiter" />

							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Value Position</label>
							<div class="col-md-6">
								<input type="text"
									placeholder='2,3,4 (column position separated by commas)'
									ng-model="ctrl.newFeed.cvsValue" class="form-control" />
							</div>
						</div>


						

						

						<div class="form-group">
							<label class="control-label col-md-4">Feed Scheduler</label>
							<div class="col-md-6">
								<cron-gen ng-model="ctrl.newFeed.feedScheduler"
									options="ctrl.cronOptions"
									ng-class="(ctrl.newFeed.feedScheduler =='' || ctrl.newFeed.feedScheduler == undefined) && flag == false ? 'border-danger': ''"></cron-gen>
								<div class="text-danger text-bold help-block with-errors"
									ng-show="(ctrl.newFeed.feedScheduler =='' || ctrl.newFeed.feedScheduler == undefined) && ctrl.newFeed.feedSchedulerStatus == 'true' && flag == false">Feed
									scheduler is mandatory</div>
							</div>
						</div>


					</div>


					<div class="modal-footer" style="border-top:#2a2c44">
						

								<div aria-disabled="false" ng-show="wizardType!='info'">
									<button class="btn btn-default" ng-click="navigateToPerviousWizard(wizardType)">Previous</button>
								</div>
								<div aria-hidden="true" aria-disabled="true" ng-show="wizardType!='labels' " >
									<button class="btn btn-dark" ng-click="navigateToAotherWizard(nextWizard)">Next</button>
								</div>
								<div aria-hidden="true" aria-disabled="true"
									ng-show="wizardType==='labels'">
									<input type="submit" value="save" class="btn btn-success"
										ng-click="ctrl.saveFeedDetails()">
								</div>
						
						
					</div>
				</form>
			</div>
		</div>

	</div>
</div>
			</script>
</div>




